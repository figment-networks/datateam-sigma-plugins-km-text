{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"C:/Users/NathanWorkman/datateam-sigma-plugins-km-text/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useInteraction = exports.useVariable = exports.useConfig = exports.useElementData = exports.useElementColumns = exports.useLoadingState = exports.useEditorPanelConfig = exports.usePlugin = void 0;\nvar react_1 = require(\"react\");\nvar Context_1 = require(\"./Context\");\nvar deepEqual_1 = require(\"../utils/deepEqual\");\n/**\n * Gets the entire plugin instance\n * @returns {PluginInstance} Context for the current plugin instance\n */\nfunction usePlugin() {\n  return (0, react_1.useContext)(Context_1.PluginContext);\n}\nexports.usePlugin = usePlugin;\n/**\n * Provides a setter for the Plugin's Config Options\n * @param {CustomPluginConfigOptions[]} nextOptions Updated possible Config Options\n */\nfunction useEditorPanelConfig(nextOptions) {\n  var client = usePlugin();\n  var optionsRef = (0, react_1.useRef)({});\n  (0, react_1.useEffect)(function () {\n    if (nextOptions == null) return;\n    if (!(0, deepEqual_1.deepEqual)(nextOptions, optionsRef.current)) {\n      client.config.configureEditorPanel(nextOptions);\n      optionsRef.current = nextOptions;\n    }\n  }, [client, nextOptions]);\n}\nexports.useEditorPanelConfig = useEditorPanelConfig;\n/**\n * React hook for Plugin Config loading state\n * @param {boolean} initialState Initial value to set loading state to\n * @returns {[boolean, Function]} Boolean value corresponding to loading state for plugin config and setter for loading state\n */\nfunction useLoadingState(initialState) {\n  var client = usePlugin();\n  var _ref = (0, react_1.useState)(function () {\n      client.config.setLoadingState(initialState);\n      return initialState;\n    }),\n    _ref2 = _slicedToArray(_ref, 2),\n    loading = _ref2[0],\n    setLoading = _ref2[1];\n  return [loading, function (nextState) {\n    if (nextState === loading) return;\n    setLoading(nextState);\n    client.config.setLoadingState(nextState);\n  }];\n}\nexports.useLoadingState = useLoadingState;\n/**\n * Provides the latest column values from corresponding sheet\n * @param {string} id Sheet ID to retrieve from workbook\n * @returns {WorkbookElementColumns} Values of corresponding columns contained within the sheet\n */\nfunction useElementColumns(id) {\n  var client = usePlugin();\n  var _ref3 = (0, react_1.useState)({}),\n    _ref4 = _slicedToArray(_ref3, 2),\n    columns = _ref4[0],\n    setColumns = _ref4[1];\n  (0, react_1.useEffect)(function () {\n    if (id) {\n      return client.elements.subscribeToElementColumns(id, setColumns);\n    }\n  }, [client, id]);\n  return columns;\n}\nexports.useElementColumns = useElementColumns;\n/**\n * Provides the latest data values from corresponding sheet\n * @param {string} id Sheet ID to get element data from\n * @returns {WorkbookElementData} Element Data for corresponding sheet, if any\n */\nfunction useElementData(id) {\n  var client = usePlugin();\n  var _ref5 = (0, react_1.useState)({}),\n    _ref6 = _slicedToArray(_ref5, 2),\n    data = _ref6[0],\n    setData = _ref6[1];\n  (0, react_1.useEffect)(function () {\n    if (id) {\n      return client.elements.subscribeToElementData(id, setData);\n    }\n  }, [client, id]);\n  return data;\n}\nexports.useElementData = useElementData;\n/**\n * Provides the latest value for entire config or certain key within the config\n * @param {string} key Key within Plugin Config, optional\n * @returns Entire config if no key passed in or value for key within plugin config\n */\nfunction useConfig(key) {\n  var client = usePlugin();\n  var _ref7 = (0, react_1.useState)(key != null ? client.config.getKey(key) : client.config.get()),\n    _ref8 = _slicedToArray(_ref7, 2),\n    config = _ref8[0],\n    setConfig = _ref8[1];\n  (0, react_1.useEffect)(function () {\n    return client.config.subscribe(function (newConfig) {\n      if (key != null && newConfig[key] !== config[key]) {\n        setConfig(newConfig[key]);\n      } else {\n        setConfig(newConfig);\n      }\n    });\n  }, [client]);\n  return config;\n}\nexports.useConfig = useConfig;\n/**\n * React hook for accessing a workbook variable\n * @param {string} id ID of variable within Plugin Config to use\n * @returns {[(WorkbookVariable | undefined), Function]} Constantly updating value of the variable and setter for the variable\n */\nfunction useVariable(id) {\n  var client = usePlugin();\n  var _ref9 = (0, react_1.useState)(),\n    _ref10 = _slicedToArray(_ref9, 2),\n    workbookVariable = _ref10[0],\n    setWorkbookVariable = _ref10[1];\n  (0, react_1.useEffect)(function () {\n    return client.config.subscribeToWorkbookVariable(id, setWorkbookVariable);\n  }, [client, id]);\n  var setVariable = (0, react_1.useCallback)(function () {\n    var _client$config;\n    for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n      values[_key] = arguments[_key];\n    }\n    return (_client$config = client.config).setVariable.apply(_client$config, [id].concat(values));\n  }, [id]);\n  return [workbookVariable, setVariable];\n}\nexports.useVariable = useVariable;\n/**\n * React hook for accessing a workbook interaction selections state\n * @param {string} id ID of variable within Plugin Config to use\n * @returns {[(WorkbookSelection | undefined), Function]} Constantly updating selection state and setter thereof\n */\nfunction useInteraction(id, elementId) {\n  var client = usePlugin();\n  var _ref11 = (0, react_1.useState)(),\n    _ref12 = _slicedToArray(_ref11, 2),\n    workbookInteraction = _ref12[0],\n    setWorkbookInteraction = _ref12[1];\n  (0, react_1.useEffect)(function () {\n    return client.config.subscribeToWorkbookInteraction(id, setWorkbookInteraction);\n  }, [client, id]);\n  var setInteraction = (0, react_1.useCallback)(function (value) {\n    client.config.setInteraction(id, elementId, value);\n  }, [id]);\n  return [workbookInteraction, setInteraction];\n}\nexports.useInteraction = useInteraction;","map":{"version":3,"names":["_slicedToArray","require","default","Object","defineProperty","exports","value","useInteraction","useVariable","useConfig","useElementData","useElementColumns","useLoadingState","useEditorPanelConfig","usePlugin","react_1","Context_1","deepEqual_1","useContext","PluginContext","nextOptions","client","optionsRef","useRef","useEffect","deepEqual","current","config","configureEditorPanel","initialState","_ref","useState","setLoadingState","_ref2","loading","setLoading","nextState","id","_ref3","_ref4","columns","setColumns","elements","subscribeToElementColumns","_ref5","_ref6","data","setData","subscribeToElementData","key","_ref7","getKey","get","_ref8","setConfig","subscribe","newConfig","_ref9","_ref10","workbookVariable","setWorkbookVariable","subscribeToWorkbookVariable","setVariable","useCallback","_client$config","_len","arguments","length","values","Array","_key","apply","concat","elementId","_ref11","_ref12","workbookInteraction","setWorkbookInteraction","subscribeToWorkbookInteraction","setInteraction"],"sources":["C:/Users/NathanWorkman/datateam-sigma-plugins-km-text/node_modules/@sigmacomputing/plugin/dist/react/hooks.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useInteraction = exports.useVariable = exports.useConfig = exports.useElementData = exports.useElementColumns = exports.useLoadingState = exports.useEditorPanelConfig = exports.usePlugin = void 0;\nconst react_1 = require(\"react\");\nconst Context_1 = require(\"./Context\");\nconst deepEqual_1 = require(\"../utils/deepEqual\");\n/**\n * Gets the entire plugin instance\n * @returns {PluginInstance} Context for the current plugin instance\n */\nfunction usePlugin() {\n    return (0, react_1.useContext)(Context_1.PluginContext);\n}\nexports.usePlugin = usePlugin;\n/**\n * Provides a setter for the Plugin's Config Options\n * @param {CustomPluginConfigOptions[]} nextOptions Updated possible Config Options\n */\nfunction useEditorPanelConfig(nextOptions) {\n    const client = usePlugin();\n    const optionsRef = (0, react_1.useRef)({});\n    (0, react_1.useEffect)(() => {\n        if (nextOptions == null)\n            return;\n        if (!(0, deepEqual_1.deepEqual)(nextOptions, optionsRef.current)) {\n            client.config.configureEditorPanel(nextOptions);\n            optionsRef.current = nextOptions;\n        }\n    }, [client, nextOptions]);\n}\nexports.useEditorPanelConfig = useEditorPanelConfig;\n/**\n * React hook for Plugin Config loading state\n * @param {boolean} initialState Initial value to set loading state to\n * @returns {[boolean, Function]} Boolean value corresponding to loading state for plugin config and setter for loading state\n */\nfunction useLoadingState(initialState) {\n    const client = usePlugin();\n    const [loading, setLoading] = (0, react_1.useState)(() => {\n        client.config.setLoadingState(initialState);\n        return initialState;\n    });\n    return [\n        loading,\n        nextState => {\n            if (nextState === loading)\n                return;\n            setLoading(nextState);\n            client.config.setLoadingState(nextState);\n        },\n    ];\n}\nexports.useLoadingState = useLoadingState;\n/**\n * Provides the latest column values from corresponding sheet\n * @param {string} id Sheet ID to retrieve from workbook\n * @returns {WorkbookElementColumns} Values of corresponding columns contained within the sheet\n */\nfunction useElementColumns(id) {\n    const client = usePlugin();\n    const [columns, setColumns] = (0, react_1.useState)({});\n    (0, react_1.useEffect)(() => {\n        if (id) {\n            return client.elements.subscribeToElementColumns(id, setColumns);\n        }\n    }, [client, id]);\n    return columns;\n}\nexports.useElementColumns = useElementColumns;\n/**\n * Provides the latest data values from corresponding sheet\n * @param {string} id Sheet ID to get element data from\n * @returns {WorkbookElementData} Element Data for corresponding sheet, if any\n */\nfunction useElementData(id) {\n    const client = usePlugin();\n    const [data, setData] = (0, react_1.useState)({});\n    (0, react_1.useEffect)(() => {\n        if (id) {\n            return client.elements.subscribeToElementData(id, setData);\n        }\n    }, [client, id]);\n    return data;\n}\nexports.useElementData = useElementData;\n/**\n * Provides the latest value for entire config or certain key within the config\n * @param {string} key Key within Plugin Config, optional\n * @returns Entire config if no key passed in or value for key within plugin config\n */\nfunction useConfig(key) {\n    const client = usePlugin();\n    const [config, setConfig] = (0, react_1.useState)(key != null ? client.config.getKey(key) : client.config.get());\n    (0, react_1.useEffect)(() => client.config.subscribe(newConfig => {\n        if (key != null && newConfig[key] !== config[key]) {\n            setConfig(newConfig[key]);\n        }\n        else {\n            setConfig(newConfig);\n        }\n    }), [client]);\n    return config;\n}\nexports.useConfig = useConfig;\n/**\n * React hook for accessing a workbook variable\n * @param {string} id ID of variable within Plugin Config to use\n * @returns {[(WorkbookVariable | undefined), Function]} Constantly updating value of the variable and setter for the variable\n */\nfunction useVariable(id) {\n    const client = usePlugin();\n    const [workbookVariable, setWorkbookVariable] = (0, react_1.useState)();\n    (0, react_1.useEffect)(() => {\n        return client.config.subscribeToWorkbookVariable(id, setWorkbookVariable);\n    }, [client, id]);\n    const setVariable = (0, react_1.useCallback)((...values) => client.config.setVariable(id, ...values), [id]);\n    return [workbookVariable, setVariable];\n}\nexports.useVariable = useVariable;\n/**\n * React hook for accessing a workbook interaction selections state\n * @param {string} id ID of variable within Plugin Config to use\n * @returns {[(WorkbookSelection | undefined), Function]} Constantly updating selection state and setter thereof\n */\nfunction useInteraction(id, elementId) {\n    const client = usePlugin();\n    const [workbookInteraction, setWorkbookInteraction] = (0, react_1.useState)();\n    (0, react_1.useEffect)(() => {\n        return client.config.subscribeToWorkbookInteraction(id, setWorkbookInteraction);\n    }, [client, id]);\n    const setInteraction = (0, react_1.useCallback)((value) => {\n        client.config.setInteraction(id, elementId, value);\n    }, [id]);\n    return [workbookInteraction, setInteraction];\n}\nexports.useInteraction = useInteraction;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}